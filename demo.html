<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>lunar</title>
  </head>
  <body>
    <label for="start"> 請輸入農曆: </label>
    <input type="date" id="dateInput" />
    <button type="button" id="determineTime" onClick="window.location.reload();" > 查詢</button>
<script src="lunar.js"></script>
<script>
	      function formatDate(date) {
            var d = new Date(date),
                month = '' + (d.getMonth() + 1),
                day = '' + d.getDate(),
                year = d.getFullYear();

            return [year, month, day].join('-');
          }		
          Date.prototype.addDays = function(days) {
              var date = new Date(this.valueOf());
              date.setDate(date.getDate() + days);
              return date;
          }
          var input = document.getElementById("dateInput").value;
          var input_year = new Date(input).getFullYear();
          var input_month = new Date(input).getMonth() + 1;
          var input_day = new Date(input).getDate();
          var lunar_date = Lunar.fromYmd(input_year, input_month,input_day);
          var solar_date = lunar_date.getSolar();
          //農曆
          document.write('<p><b> 查詢農曆: </b></p>');
          document.write(lunar_date.toFullString());
          //國曆
          document.write('<p><b> 查詢國曆: </b></p>');
          document.write(solar_date.toFullString());

          // 百日農曆
          //var hund_lunar_date = Lunar.fromYmd(input_year, input_month,input_day + 100);
          var hund_lunar_date = lunar_date.next(99); 
          document.write('<p><b> 百日農曆: </b></p>');
          document.write(hund_lunar_date.toFullString());
         // // 百日國曆
          document.write('<p><b> 百日國曆: </b></p>');
          document.write(hund_lunar_date.getSolar().toFullString());

          // 對年農曆
          var nextyear_lunar_date = Lunar.fromYmd(input_year + 1, input_month,input_day);
          var nextyear_solar_date = nextyear_lunar_date.getSolar();
          document.write('<p><b> 對年農曆: </b></p>');
          document.write(nextyear_lunar_date.toFullString());
          // 對年國曆
          document.write('<p><b> 對年國曆: </b></p>');
          document.write(nextyear_solar_date.toFullString());

    </script>
  </body>
</html>
